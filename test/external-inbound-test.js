/**
 * @file test/external-inbound-test.js
 * @author andrew.rapo@jibo.com
 *
 * Generated by the converse-cli tool for use with the Converse AI
 * Plugins SDK. https://developers.converse.ai/
 * Commented out for publishing
 * 

const request     = require('supertest');
const expect      = require('chai').expect;
const server      = require('./lib/express');

describe('inbound', function () {

  it('base', function(done) {
    request(server)
      .post('/')
      .send({
        event: 'EXTERNAL_CALL',
        payload: {
          call: 'inbound',
          method: 'POST',
          // inboundHeaders: {},
          // queryParam: {},
          // Either formData or bodyData will be send.
          // ----------------------------------------
          // Content-Type: application/x-www-form-urlencoded
          // formData: {
          //   key: {
          //     data: ['value']
          //   }
          // },
          // Content-Type: application/json
          bodyData: {
            userID: "usertesting",
            threadID: "threadtesting",
            message: "subscribe"
          },
          registrationData: {
            url: undefined,
            verification_token: "randomtoken",
            inbound_hook: "",
          }
        }
      })
      .set('X_CONVERSE_APP_TOKEN', require('../app-token'))
      .expect(200)
      .end(function(err, res) {
        expect(res.body).to.have.property('status').to.equal(0);
        done();
      });
  })

});
*/