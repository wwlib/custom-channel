/**
 * @file test/external-webhook-test.js
 * @author andrew.rapo@jibo.com
 *
 * Generated by the converse-cli tool for use with the Converse AI
 * Plugins SDK. https://developers.converse.ai/
 * Commented out for purposes of publishing
 * 

const request     = require('supertest');
const expect      = require('chai').expect;
const server      = require('./lib/express');

describe('webhook', function () {

  it('base', function(done) {
    request(server)
      .post('/')
      .send({
        event: 'EXTERNAL_CALL',
        payload: {
          call: 'webhook',
          method: 'POST',
          // inboundHeaders: {},
          // queryParam: {
          //   parameter: {
          //       data: ['value']
          //   }
          // },
          // Either formData or bodyData will be send.
          // ----------------------------------------
          // Content-Type: application/x-www-form-urlencoded
          // formData: {
          //   key: {
          //     data: ['value']
          //   }
          // },
          // Content-Type: application/json
          bodyData: { 
            "action": "message",
            "payload": {
              "message": {
                "text": "testingstring",
                "userId": "phonenumber"
              }
            }
          },
          registrationData: {
            "variables" : []
          }
        }
      })
      .set('X_CONVERSE_APP_TOKEN', require('../app-token'))
      .expect(200)
      .end(function(err, res) {
        expect(res.body).to.have.property('status').to.equal(0);
        done();
      });
  })

});
*/